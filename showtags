#!/usr/bin/env python
# vim: set ft=python ts=4 sw=4 et ai:

import gi
gi.require_version('Gtk', '3.0')
from gi.repository import Gtk

import os,sys



class MyWindow(Gtk.Window):
    def __init__(self):
        Gtk.Window.__init__(self,title='ShowTags' )
        self.connect('destroy',Gtk.main_quit)
        
        self.mainbox = Gtk.VBox( )
        self.mainbox.set_size_request(600,800)
        self.add(self.mainbox)
        self.tagview = TagView( )
        self.mainbox.pack_start(self.tagview,True,True,6)
        self.files_button = Gtk.Button(label='Flacs')
        self.mainbox.pack_start(self.files_button,False,False,6)
        self.files_button.connect('clicked', self.chooseflacs)
        self.txt_button = Gtk.Button(label='TextFile')
        self.txt_button.connect('clicked', self.choose_txt)
        
        self.flacbutton = Gtk.FileChooserButton( )
        self.flacbutton.set_name('Flac Folder')
        fltr = Gtk.FileFilter( )
        fltr.add_pattern('*.flac')
        self.flacbutton.set_filter(fltr)
        self.mainbox.pack_start(self.flacbutton,True,True,4)
        self.txtbutton = Gtk.FileChooserButton( )
        self.txtbutton.set_name('Info File')
        fltr = Gtk.FileFilter( )
        fltr.add_pattern('*.txt')
        self.txtbutton.set_filter(fltr)
        self.mainbox.pack_start(self.txtbutton,True,True,4)



    def choose_txt(self,data):
        dialog = FileBrowser('Text File')
        dialog.show_all( )

    def chooseflacs(self,data):
        dialog = FileBrowser('FLAC Folder')


        dialog.show_all( )

class TagView(Gtk.TreeView):
    def __init__(self):
        self.tagvalues = Model( )
        Gtk.TreeView.__init__(self, model=self.tagvalues)
        self.set_size_request(500,700)
        
class Model(Gtk.ListStore):
    def __init__(self):
        Gtk.ListStore.__init__(self,str,int,str)
        
#    def flacnames(self,path):








class FileBrowser(Gtk.Window):
    def __init__(self,title=None):
        Gtk.Window.__init__(self, title=title)
        self.mainbox = Gtk.VBox( )
        self.browser = Gtk.FileChooserWidget( )
        self.mainbox.add(self.browser)
        self.add(self.mainbox)
        self.ok_button = Gtk.Button(label='OK')
        self.cancel_button = Gtk.Button(label='Cancel')
        self.hbox = Gtk.HBox( )
        self.hbox.pack_start(self.cancel_button,False,False,6)
        self.hbox.pack_start(self.ok_button,False,False,6)
        self.mainbox.pack_start(self.hbox,False,False,4)
        self.mainbox.set_size_request(400,600)
        filefilter = Gtk.FileFilter( )
        filefilter.set_name('FLACs')
        filefilter.add_mime_type('audio/x-flac')
        filefilter.add_mime_type('audio/flac')
        folderfilter = Gtk.FileFilter( )
        folderfilter.set_name('Folder')
        folderfilter.add_mime_type('inode/directory')
        self.browser.set_filter(folderfilter)
        




win = MyWindow( )
win.connect('destroy',Gtk.main_quit)

win.show_all( )

Gtk.main( )




